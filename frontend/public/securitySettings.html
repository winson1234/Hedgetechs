<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Security Settings - FPMarkets</title>
    <link rel="stylesheet" href="/assets/securitySettings.css">
</head>
<body>
<header class="header">
  <div class="logo">
    <a href="/dashboard.html">
      <span class="logo-text">FP<span class="logo-accent">Markets</span></span>
    </a>
  </div>

        
        <nav class="nav-menu">
            <a href="#market" class="nav-link">Markets</a>
            <a href="#trade" class="nav-link">Trade</a>
            <a href="#news" class="nav-link">News</a>
            <a href="#features" class="nav-link">Features</a>
            <a href="#about" class="nav-link">About</a>
            <a href="#faq" class="nav-link">FAQ</a>
        </nav>

        <div class="header-right">
            <!-- Theme Toggle -->
            <button class="icon-btn" id="themeToggle" title="Toggle Theme">
                <svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                </svg>
                <svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
            </button>

            <!-- Profile -->
            <div class="profile-container">
                <div class="profile-icon" id="profileIcon">JD</div>
                <div class="profile-dropdown" id="profileDropdown">
                    <div class="dropdown-header">
                        <div class="dropdown-username">John Doe</div>
                        <div class="dropdown-email">john.doe@fpmarkets.com</div>
                    </div>
                    <div class="dropdown-menu">
                        <a href="#" class="dropdown-item">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                            </svg>
                            My Profile
                        </a>
                        <a href="#" class="dropdown-item">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                            </svg>
                            Accounts
                        </a>
                        <a href="#" class="dropdown-item">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            </svg>
                            Settings
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item" id="logoutBtn">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                            </svg>
                            Logout
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="main-content">
        <div class="page-header">
            <h1 class="page-title">Security Settings</h1>
            <p class="page-subtitle">Manage your account security and connected devices</p>
        </div>

        <!-- Security Stats -->
        <div class="security-stats">
            <div class="stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #10b981, #059669);">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                </div>
                <div class="stat-content">
                    <div class="stat-value" id="accountStatus">Protected</div>
                    <div class="stat-label">Account Status</div>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #3b82f6, #2563eb);">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                    </svg>
                </div>
                <div class="stat-content">
                    <div class="stat-value" id="twoFAStatusBadge">Disabled</div>
                    <div class="stat-label">Two-Factor Auth</div>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                        <rect x="5" y="2" width="14" height="20" rx="2" ry="2"/>
                        <line x1="12" y1="18" x2="12.01" y2="18"/>
                    </svg>
                </div>
                <div class="stat-content">
                    <div class="stat-value">4</div>
                    <div class="stat-label">Active Devices</div>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed);">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <polyline points="12 6 12 12 16 14"/>
                    </svg>
                </div>
                <div class="stat-content">
                    <div class="stat-value">Just now</div>
                    <div class="stat-label">Last Activity</div>
                </div>
            </div>
        </div>

        <div class="security-grid">
            <!-- 2FA Card -->
            <div class="security-card featured">
                <div class="card-header">
                    <div class="card-title">
                        <div class="card-icon">üîê</div>
                        Two-Factor Authentication
                    </div>
                    <span class="status-badge" id="statusBadge">Inactive</span>
                </div>
                
                <div class="twofa-content">
                    <div class="twofa-visual">
                        <div class="twofa-status disabled" id="twofaStatusIcon">
                            üîí
                        </div>
                        <div class="twofa-info">
                            <h3 class="twofa-title" id="twofaStatusText">2FA Disabled</h3>
                            <p class="twofa-description">
                                Add an extra layer of security to your account by enabling two-factor authentication.
                            </p>
                        </div>
                    </div>
                    
                    <div class="security-benefits">
                        <div class="benefit-item">
                            <span class="benefit-icon">‚úì</span>
                            <span>Protect against unauthorized access</span>
                        </div>
                        <div class="benefit-item">
                            <span class="benefit-icon">‚úì</span>
                            <span>Secure your sensitive data</span>
                        </div>
                        <div class="benefit-item">
                            <span class="benefit-icon">‚úì</span>
                            <span>Industry-standard authentication</span>
                        </div>
                    </div>

                    <div class="toggle-container" id="twofaToggle">
                        <div class="toggle-content">
                            <span class="toggle-label">Enable Two-Factor Authentication</span>
                            <p class="toggle-sublabel">Requires authentication code on each login</p>
                        </div>
                        <div class="toggle-switch">
                            <div class="toggle-slider"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Connected Devices Card -->
            <div class="security-card">
                <div class="card-header">
                    <div class="card-title">
                        <div class="card-icon">üì±</div>
                        Connected Devices
                    </div>
                    <span style="font-size: 14px; color: var(--text-secondary);" id="deviceCount">4 active devices</span>
                </div>

                <div class="devices-intro">
                    <p>Manage all devices that have access to your account. Remove any unfamiliar devices immediately.</p>
                </div>

                <div id="devicesList">
                    <div class="device-item current-device" data-device-id="1">
                        <div class="device-info">
                            <div class="device-icon">üíª</div>
                            <div class="device-details">
                                <h4>MacBook Pro 16"</h4>
                                <p>Chrome on macOS ‚Ä¢ Kuala Lumpur, Malaysia</p>
                                <p style="font-size: 12px; color: var(--text-tertiary);">Last active: Just now</p>
                                <span class="device-badge current">Current Device</span>
                            </div>
                        </div>
                        <button class="remove-device-btn" disabled>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="3 6 5 6 21 6"/>
                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                            </svg>
                            Current
                        </button>
                    </div>

                    <div class="device-item" data-device-id="2">
                        <div class="device-info">
                            <div class="device-icon">üì±</div>
                            <div class="device-details">
                                <h4>iPhone 15 Pro</h4>
                                <p>Safari on iOS ‚Ä¢ Petaling Jaya, Malaysia</p>
                                <p style="font-size: 12px; color: var(--text-tertiary);">Last active: 2 hours ago</p>
                                <span class="device-badge active">Active</span>
                            </div>
                        </div>
                        <button class="remove-device-btn" data-device-id="2" data-device-name="iPhone 15 Pro">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="3 6 5 6 21 6"/>
                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                            </svg>
                            Remove
                        </button>
                    </div>

                    <div class="device-item" data-device-id="3">
                        <div class="device-info">
                            <div class="device-icon">üñ•Ô∏è</div>
                            <div class="device-details">
                                <h4>Windows Desktop</h4>
                                <p>Edge on Windows 11 ‚Ä¢ Singapore</p>
                                <p style="font-size: 12px; color: var(--text-tertiary);">Last active: 1 day ago</p>
                                <span class="device-badge active">Active</span>
                            </div>
                        </div>
                        <button class="remove-device-btn" data-device-id="3" data-device-name="Windows Desktop">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="3 6 5 6 21 6"/>
                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                            </svg>
                            Remove
                        </button>
                    </div>

                    <div class="device-item" data-device-id="4">
                        <div class="device-info">
                            <div class="device-icon">üì≤</div>
                            <div class="device-details">
                                <h4>iPad Air</h4>
                                <p>Safari on iPadOS ‚Ä¢ Kuala Lumpur, Malaysia</p>
                                <p style="font-size: 12px; color: var(--text-tertiary);">Last active: 3 days ago</p>
                                <span class="device-badge active">Active</span>
                            </div>
                        </div>
                        <button class="remove-device-btn" data-device-id="4" data-device-name="iPad Air">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="3 6 5 6 21 6"/>
                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                            </svg>
                            Remove
                        </button>
                    </div>
                </div>
            </div>

            <!-- Activity Card -->
            <div class="security-card full-width">
                <div class="card-header">
                    <div class="card-title">
                        <div class="card-icon">üìä</div>
                        Recent Security Activity
                    </div>
                    <button class="view-all-btn">View All</button>
                </div>

                <div class="activity-list">
                    <div class="activity-item">
                        <div class="activity-icon" style="background: linear-gradient(135deg, #10b981, #059669);">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"></polyline>
                            </svg>
                        </div>
                        <div class="activity-details">
                            <h4>Successful Login</h4>
                            <p>MacBook Pro 16" ‚Ä¢ Chrome ‚Ä¢ Kuala Lumpur, Malaysia</p>
                            <p class="activity-time">Today at 10:30 AM</p>
                        </div>
                        <div class="activity-status success">Successful</div>
                    </div>

                    <div class="activity-item">
                        <div class="activity-icon" style="background: linear-gradient(135deg, #3b82f6, #2563eb);">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                            </svg>
                        </div>
                        <div class="activity-details">
                            <h4>Password Changed</h4>
                            <p>Password successfully updated</p>
                            <p class="activity-time">30 days ago</p>
                        </div>
                        <div class="activity-status info">Completed</div>
                    </div>

                    <div class="activity-item">
                        <div class="activity-icon" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                <rect x="5" y="2" width="14" height="20" rx="2" ry="2"/>
                                <line x1="12" y1="18" x2="12.01" y2="18"/>
                            </svg>
                        </div>
                        <div class="activity-details">
                            <h4>New Device Added</h4>
                            <p>iPhone 15 Pro ‚Ä¢ Safari ‚Ä¢ Petaling Jaya, Malaysia</p>
                            <p class="activity-time">45 days ago</p>
                        </div>
                        <div class="activity-status info">New Device</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 2FA Modal -->
    <div class="modal-overlay" id="tfaModal">
        <div class="modal">
            <button class="modal-close" id="modalClose">&times;</button>
            
            <div class="modal-header">
                <div class="modal-icon">üîê</div>
                <h2 class="modal-title">Verify Your Identity</h2>
                <p class="modal-description">Enter the 6-digit verification code sent to your email</p>
            </div>

            <div class="otp-section">
                <div class="otp-inputs">
                    <input type="text" maxlength="1" class="otp-digit" />
                    <input type="text" maxlength="1" class="otp-digit" />
                    <input type="text" maxlength="1" class="otp-digit" />
                    <input type="text" maxlength="1" class="otp-digit" />
                    <input type="text" maxlength="1" class="otp-digit" />
                    <input type="text" maxlength="1" class="otp-digit" />
                </div>

                <div class="resend-section">
                    <p class="resend-text">Didn't receive the code?</p>
                    <button class="resend-btn" id="resendBtn" disabled>
                        Resend OTP <span class="timer" id="timer">(60s)</span>
                    </button>
                </div>

                <div class="error-message" id="otpError"></div>
                <button class="verify-btn" id="verifyOtpBtn">Verify & Enable 2FA</button>
            </div>
        </div>
    </div>

    <!-- Remove Device Modal -->
    <div class="modal-overlay" id="removeModal">
        <div class="modal">
            <button class="modal-close" id="removeModalClose">&times;</button>
            <div class="modal-header">
                <div class="modal-icon">‚ö†Ô∏è</div>
                <h3 class="modal-title">Remove Device?</h3>
                <p class="modal-description" id="modalDescription">
                    Are you sure you want to remove this device? You'll need to log in again on this device.
                </p>
            </div>
            <div class="modal-actions">
                <button class="cancel-btn" id="cancelRemoveBtn">Cancel</button>
                <button class="confirm-btn" id="confirmRemoveBtn">Remove Device</button>
            </div>
        </div>
    </div>

    <!-- Success Toast -->
    <div class="success-toast" id="successToast">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
            <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
        <span id="successText">Settings updated successfully!</span>
    </div>

    <script src="/assets/securitySettings.js"></script>
</body>
</html>